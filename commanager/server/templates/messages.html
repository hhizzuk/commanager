<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/messages.css') }}">

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/profile-menu.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/chat.js') }}" defer></script>
</head>

<body>
    {% include "components/header.html" %}
    
    <main class="main-container">
        <aside class="sidebar">
            <h3>Chats</h3>
            <ul>
                <li><button class="chat-select">Chat 1</button></li>
                <li><button class="chat-select">Chat 2</button></li>
                <li><button class="chat-select">Chat 3</button></li>
            </ul>
        </aside>
        
        <section class="chat-container">
            <div class="messages" id="chat" role="log" aria-live="polite"></div>
            <div class="input-group">
                <input type="text" id="userInput" placeholder="Type a message..." aria-label="Type a message">
                <button id="sendBtn">
                    <img src="{{ url_for('static', filename='images/send_button.png') }}" alt="Send Button">
                </button>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const input = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const chat = document.getElementById('chat');

    sendBtn.addEventListener('click', sendMessage);
    input.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') sendMessage();
    });

    function sendMessage() {
        const message = input.value.trim();
        if (!message) return;

        const userMessage = document.createElement('div');
        userMessage.className = 'message userInput';
        userMessage.innerText = message;
        chat.appendChild(userMessage);

        input.value = '';
        chat.scrollTop = chat.scrollHeight;

        setTimeout(() => {
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot';
            botMessage.innerText = 'Hello! This is a bot response.';
            chat.appendChild(botMessage);
            chat.scrollTop = chat.scrollHeight;
        }, 1000);
    }
});

    </script>
</body>
</html>
